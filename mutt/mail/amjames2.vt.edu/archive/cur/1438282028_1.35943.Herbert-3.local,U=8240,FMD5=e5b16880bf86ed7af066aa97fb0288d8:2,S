Delivered-To: amjames2@vt.edu
Received: by 10.140.25.173 with SMTP id 42csp2148623qgt;
        Tue, 12 May 2015 08:33:41 -0700 (PDT)
X-Received: by 10.140.150.73 with SMTP id 70mr21817727qhw.10.1431444821087;
        Tue, 12 May 2015 08:33:41 -0700 (PDT)
Return-Path: <noreply@github.com>
Received: from mr2.cc.vt.edu (mr2.cc.ipv6.vt.edu. [2001:468:c80:2105:0:212:7ed0:359e])
        by mx.google.com with ESMTPS id gs2si12065804qcb.23.2015.05.12.08.33.40
        for <amjames2@vt.edu>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 12 May 2015 08:33:41 -0700 (PDT)
Received-SPF: pass (google.com: domain of noreply@github.com designates 192.30.252.199 as permitted sender) client-ip=192.30.252.199;
Authentication-Results: mx.google.com;
       spf=pass (google.com: domain of noreply@github.com designates 192.30.252.199 as permitted sender) smtp.mail=noreply@github.com;
       dkim=pass (test mode) header.i=@github.com
Received: from github-smtp2a-ext-cp1-prd.iad.github.net (github-smtp2-ext8.iad.github.net [192.30.252.199])
	by mr2.cc.vt.edu (8.14.4/8.14.4) with ESMTP id t4CFXYwf018151
	for <amjames2@vt.edu>; Tue, 12 May 2015 11:33:39 -0400
Date: Tue, 12 May 2015 08:33:34 -0700
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=github.com;
	s=pf2014; t=1431444814;
	bh=gVqowtLUGckrGhNGtZW/ehepmyz1IUhVb/8D3tteZNY=;
	h=From:Reply-To:To:Subject:List-ID:List-Archive:List-Post:
	 List-Unsubscribe:From;
	b=Q6x58DN3yWydhaNfDgtA96a/LCDD41uuJDX9ctn6J/CpG+3jdatypVBKD0Ft2BWez
	 3V+knzmbmCdBueiGNOU5KgpfQ27n0YhlCW2K/sxOMGTn7iqRNl9FP2ydPNQzZ64KEB
	 YaKSaskvmuheoIZ0lm6ltgXlF7HKdRBUXgdLwU+Q=
From: Ryan Richard <notifications@github.com>
Reply-To: psi4/psi4 <reply+0089f64268da0ca6dccbc0edbf5e96db034247e2435cdcde92cf000000011169df4e92a169ce048235e6@reply.github.com>
To: psi4/psi4 <psi4@noreply.github.com>
Message-ID: <psi4/psi4/issues/96@github.com>
Subject: [psi4] FNO-DF-CCSD(T) Segfault (#96)
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_55521d4e8a95f_7b243fc6530b32a0191888";
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Precedence: list
X-GitHub-Sender: ryanmrichard
X-GitHub-Recipient: amjames
List-ID: psi4/psi4 <psi4.psi4.github.com>
List-Archive: https://github.com/psi4/psi4
List-Post: <mailto:reply+0089f64268da0ca6dccbc0edbf5e96db034247e2435cdcde92cf000000011169df4e92a169ce048235e6@reply.github.com>
List-Unsubscribe: <mailto:unsub+0089f64268da0ca6dccbc0edbf5e96db034247e2435cdcde92cf000000011169df4e92a169ce048235e6@reply.github.com>,
 <https://github.com/notifications/unsubscribe/AIn2QsxfnpJ-Fp_s8JRO2sMU8kMmdvlkks5oIhTOgaJpZM4EYCIA>
X-Auto-Response-Suppress: All
X-GitHub-Recipient-Address: amjames2@vt.edu
X-Spam-Status: No, score=-4.4 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HTML_IMAGE_ONLY_20,HTML_MESSAGE,RCVD_IN_DNSWL_HI
	autolearn=disabled version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on mr2.cc.vt.edu
X-Gm-Spam: 0
X-Gm-Phishy: 0
X-Gm-Spam: 0
X-Gm-Phishy: 0


----==_mimepart_55521d4e8a95f_7b243fc6530b32a0191888
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

I'm not sure how much help I'll be able to get on this issue, but the FNO-DF-CCSD(T) code seems to randomly segfault on me, particularly when I run on many MPI processes, within the confines of the many-body expansion.  

The segfault arises from the function:
```
psi::fnocc::CoupledCluster::triples() ()
```

The following input seems quite reliable at generating these errors in serial though:
```
molecule water6{
O -1.126149 -1.748387 -0.423240
H -0.234788 -1.493897 -0.661862
H -1.062789 -2.681331 -0.218819
O -0.254210 1.611495 -1.293845
H -1.001520 1.163510 -1.690129
H -0.153399 2.411746 -1.809248
O 1.694541 -0.226287 1.705739
H 0.785920 0.073487 1.677909
H 2.047134 0.150917 2.511706
O -0.864533 0.522472 1.218817
H -0.694120 1.093542 0.469789
H -1.131418 -0.310426 0.829702
O -2.312727 0.054310 -2.138177
H -2.002512 -0.686744 -1.617757
H -3.266931 0.004778 -2.081349
O 1.292355 -0.704768 -0.977342
H 1.642300 -0.601085 -0.092386
H 0.948122 0.159656 -1.202018
symmetry c1
}
set_memory(2000000000)
set{
basis aug-cc-pvtz
guess sad
freeze_core true
mbe_truncation_order 5
bsse_method vmfcn
frag_method bond_based
}
mbe('fno-df-ccsd(t)')
```


---
Reply to this email directly or view it on GitHub:
https://github.com/psi4/psi4/issues/96
----==_mimepart_55521d4e8a95f_7b243fc6530b32a0191888
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>I'm not sure how much help I'll be able to get on this issue, but the FNO-DF-CCSD(T) code seems to randomly segfault on me, particularly when I run on many MPI processes, within the confines of the many-body expansion.  </p>

<p>The segfault arises from the function:</p>

<pre><code>psi::fnocc::CoupledCluster::triples() ()
</code></pre>

<p>The following input seems quite reliable at generating these errors in serial though:</p>

<pre><code>molecule water6{
O -1.126149 -1.748387 -0.423240
H -0.234788 -1.493897 -0.661862
H -1.062789 -2.681331 -0.218819
O -0.254210 1.611495 -1.293845
H -1.001520 1.163510 -1.690129
H -0.153399 2.411746 -1.809248
O 1.694541 -0.226287 1.705739
H 0.785920 0.073487 1.677909
H 2.047134 0.150917 2.511706
O -0.864533 0.522472 1.218817
H -0.694120 1.093542 0.469789
H -1.131418 -0.310426 0.829702
O -2.312727 0.054310 -2.138177
H -2.002512 -0.686744 -1.617757
H -3.266931 0.004778 -2.081349
O 1.292355 -0.704768 -0.977342
H 1.642300 -0.601085 -0.092386
H 0.948122 0.159656 -1.202018
symmetry c1
}
set_memory(2000000000)
set{
basis aug-cc-pvtz
guess sad
freeze_core true
mbe_truncation_order 5
bsse_method vmfcn
frag_method bond_based
}
mbe('fno-df-ccsd(t)')
</code></pre>

<p style="font-size:small;-webkit-text-size-adjust:none;color:#666;">&mdash;<br>Reply to this email directly or <a href="https://github.com/psi4/psi4/issues/96">view it on GitHub</a>.<img alt="" height="1" src="https://github.com/notifications/beacon/AIn2Qguq0rUBdqlhMmOUTLh7WCTa_4Miks5oIhTOgaJpZM4EYCIA.gif" width="1" /></p>
<div itemscope itemtype="http://schema.org/EmailMessage">
  <div itemprop="action" itemscope itemtype="http://schema.org/ViewAction">
    <link itemprop="url" href="https://github.com/psi4/psi4/issues/96"></link>
    <meta itemprop="name" content="View Issue"></meta>
  </div>
  <meta itemprop="description" content="View this Issue on GitHub"></meta>
</div>

----==_mimepart_55521d4e8a95f_7b243fc6530b32a0191888--
