Delivered-To: amjames2@vt.edu
Received: by 10.140.25.151 with SMTP id 23csp512093qgt;
        Thu, 23 Jul 2015 09:56:10 -0700 (PDT)
X-Received: by 10.140.23.147 with SMTP id 19mr13431093qgp.84.1437670570310;
        Thu, 23 Jul 2015 09:56:10 -0700 (PDT)
Return-Path: <uas@vt.edu>
Received: from mr6.cc.vt.edu (mr6.cc.ipv6.vt.edu. [2001:468:c80:2105:0:250:3bcb:5b17])
        by mx.google.com with ESMTPS id g72si6587613qkh.25.2015.07.23.09.56.10
        for <amjames2@vt.edu>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 23 Jul 2015 09:56:10 -0700 (PDT)
Received-SPF: pass (google.com: domain of uas@vt.edu designates 2001:468:c80:2105:0:250:3bcb:5b17 as permitted sender)
Authentication-Results: mx.google.com;
       spf=pass (google.com: domain of uas@vt.edu designates 2001:468:c80:2105:0:250:3bcb:5b17 as permitted sender) smtp.mail=uas@vt.edu
Received: from aquifer.cc.vt.edu ([IPv6:2001:468:c80:2104:219:b9ff:feea:d908])
	by mr6.cc.vt.edu (8.14.4/8.14.4) with ESMTP id t6NGu4Ig017934
	for <amjames2@vt.edu>; Thu, 23 Jul 2015 12:56:09 -0400
Received: from tickets.arc.vt.edu.hpc (tickets.arc.vt.edu.hpc [172.28.40.45])
	by aquifer.cc.vt.edu (Postfix) with ESMTP id D28913605C
	for <amjames2@vt.edu>; Thu, 23 Jul 2015 12:56:04 -0400 (EDT)
Received: by tickets.arc.vt.edu.hpc (Postfix, from userid 48)
	id C5BFD8A2; Thu, 23 Jul 2015 12:56:04 -0400 (EDT)
Subject: [ARC Support #8605] ARC Help Request: module scripts 
From: "Di Zhang via RT" <arcsupport@vt.edu>
Reply-To: arcsupport@vt.edu
In-Reply-To: <20150723154332.B2276958@webhost11.hosting.vt.edu>
References: <RT-Ticket-8605@example.com> <20150723154332.B2276958@webhost11.hosting.vt.edu>
Message-ID: <rt-3.8.13-2915-1437670564-1176.8605-6-0@example.com>
Precedence: bulk
X-RT-Loop-Prevention: Advanced Research Computing
RT-Ticket: Advanced Research Computing #8605
Managed-by: RT 3.8.13 (http://www.bestpractical.com/rt/)
RT-Originator: liybzd@vt.edu
To: amjames2@vt.edu
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset="utf-8"
X-RT-Original-Encoding: utf-8
Date: Thu, 23 Jul 2015 12:56:04 -0400
X-Spam-Status: No, score=1.3 required=5.0 tests=RDNS_NONE autolearn=disabled
	version=3.3.1
X-Spam-Level: *
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on mr6.cc.vt.edu
X-Gm-Spam: 0
X-Gm-Phishy: 0
X-Gm-Spam: 0
X-Gm-Phishy: 0

Hi Andrew,

I log in your account and created test.sh with exactly those 4 lines in your home directory, the module swapping seems working fine

Regards,
Di


On Thu Jul 23 11:43:33 2015, amjames2@vt.edu wrote:
> Requestor Name: Andrew Moulton James
> Requestor Email: amjames2@vt.edu
> 
> I am requesting help using:
>     BlueRidge
> 
> Problem Description:
> I often swap out modules for different builds of software. To
>    debug/check portability ect. I would like to write a script that I
>    can run that just purges my modules and loads the ones I need to
>    quickly set up my environment.  I tried doing this but it looks
>    like those changes are only applied to the shell instance that is
>    spawned for my script for example say I have the intel module
>    loaded and I execute this script:
> 
> >#! /bin/bash
> 
> >module purge
> >module load gcc
> >module list
> 
> will print
> 
> Currently Loaded Modules:
>  1)gcc/4.7.2
> 
> But if I get the prompt back and run:
> 
> $module list
> 
> I will still see
> Currently Loaded Modules:
>  1) intel/13.1
> 
> 
> No one else in my lab has to swap back and forth so often, so I have
>    no help here, but I figure someone there in the arc office might
>    have something like this worked out?
> 
> If someone does and I could get an example script I would be in your
>    debt.
> 
> Thanks!
> --AJ
> 
> 
> 
> Received from:
>    https://secure.hosting.vt.edu/www.arc.vt.edu/forms/support_request.php
> Referred to by:
>    https://secure.hosting.vt.edu/www.arc.vt.edu/forms/login.php?redir=/www.arc.vt.edu/forms/support_request.php
> 
> End of Message


