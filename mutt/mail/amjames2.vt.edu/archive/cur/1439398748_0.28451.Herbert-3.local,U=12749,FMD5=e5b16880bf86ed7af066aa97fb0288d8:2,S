Delivered-To: amjames2@vt.edu
Received: by 10.140.25.151 with SMTP id 23csp402483qgt;
        Wed, 12 Aug 2015 09:57:54 -0700 (PDT)
X-Received: by 10.140.201.204 with SMTP id w195mr62575950qha.16.1439398674802;
        Wed, 12 Aug 2015 09:57:54 -0700 (PDT)
Return-Path: <bounces+848413-3e11-amjames2=vt.edu@sgmail.github.com>
Received: from mr2.cc.vt.edu (mr2.cc.ipv6.vt.edu. [2001:468:c80:2105:0:212:7ed0:359e])
        by mx.google.com with ESMTPS id g138si10739804qhc.66.2015.08.12.09.57.54
        for <amjames2@vt.edu>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 12 Aug 2015 09:57:54 -0700 (PDT)
Received-SPF: pass (google.com: best guess record for domain of bounces+848413-3e11-amjames2=vt.edu@sgmail.github.com designates 192.254.114.176 as permitted sender) client-ip=192.254.114.176;
Authentication-Results: mx.google.com;
       spf=pass (google.com: best guess record for domain of bounces+848413-3e11-amjames2=vt.edu@sgmail.github.com designates 192.254.114.176 as permitted sender) smtp.mailfrom=bounces+848413-3e11-amjames2=vt.edu@sgmail.github.com;
       dkim=pass header.i=@github.com
Received: from o1.sgmail.github.com (o1.sgmail.github.com [192.254.114.176])
	by mr2.cc.vt.edu (8.14.4/8.14.4) with ESMTP id t7CGvln2015342
	for <amjames2@vt.edu>; Wed, 12 Aug 2015 12:57:53 -0400
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=github.com; 
	h=from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:list-id:list-archive:list-post:list-unsubscribe; 
	s=s20150108; bh=i3MWszKDZJqko2ErH6H7pxk1wxY=; b=chujzCXNZ35y3/sh
	Zccit7Ynpkb+H5ZVtMDP7f74Lo/Eb8G8K86mPFVLWuwHAKE0HMPkIhOcfbuWfIgs
	PxXdwNRX0NG2a8QOJiR9Z6w8hKoFJuD3j/WMHdqzbZ875a26zjaGrbXyLWKeioFS
	86KRvaFrtAWpOUDmdK3gOzPknTI=
Received: by filter0425p1mdw1.sendgrid.net with SMTP id filter0425p1mdw1.21776.55CB7B0A29
        2015-08-12 16:57:46.643612832 +0000 UTC
Received: from github-smtp2a-ext-cp1-prd.iad.github.net (github-smtp2a-ext-cp1-prd.iad.github.net [192.30.253.16])
	by ismtpd0003p1iad1.sendgrid.net (SG) with ESMTP id 0WXJC70XRH6wdwl_M1mUKA
	for <amjames2@vt.edu>; Wed, 12 Aug 2015 16:57:46 +0000 (UTC)
Date: Wed, 12 Aug 2015 09:57:46 -0700
From: "Robert T. McGibbon" <notifications@github.com>
Reply-To: psi4/psi4public <reply+0089f6428aef9d9e296fd8180c42a913ae2c1e259cd3cd9e92cf0000000111e33d0a92a169ce05fed8e8@reply.github.com>
To: psi4/psi4public <psi4public@noreply.github.com>
Message-ID: <psi4/psi4public/issues/163@github.com>
Subject: [psi4public] Python 3 library not detected correctly by cmake (#163)
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_55cb7b0a19d80_7f7b3fb2419e329c1120fa";
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Precedence: list
X-GitHub-Sender: rmcgibbo
X-GitHub-Recipient: amjames
List-ID: psi4/psi4public <psi4public.psi4.github.com>
List-Archive: https://github.com/psi4/psi4public
List-Post: <mailto:reply+0089f6428aef9d9e296fd8180c42a913ae2c1e259cd3cd9e92cf0000000111e33d0a92a169ce05fed8e8@reply.github.com>
List-Unsubscribe: <mailto:unsub+0089f6428aef9d9e296fd8180c42a913ae2c1e259cd3cd9e92cf0000000111e33d0a92a169ce05fed8e8@reply.github.com>,
 <https://github.com/notifications/unsubscribe/AIn2Qrdr6V3kzJBVOsjl-E-7siK7BEaXks5om3KKgaJpZM4FqWgW>
X-Auto-Response-Suppress: All
X-GitHub-Recipient-Address: amjames2@vt.edu
X-SG-EID: UJLDIEm0+sbiS+3uuNJpMWQdL8kmmWJ29I1nvY4W5Ik786AKUrPUJzP73e/SF4lIKT30p15rcuCkQi
 Zp+RCryrucSZZuwLdp8sb26ic/0RCzfE0YAxLEKZcVkwwJva+JmAE0FPOZtKOZ98P2B5I2XWM578Rw
 FHwYJt6uwwV3Xfc=
X-Spam-Status: No, score=-1.7 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
	DKIM_VALID_AU,HTML_IMAGE_ONLY_20,HTML_MESSAGE,RCVD_IN_DNSWL_MED,
	RP_MATCHES_RCVD autolearn=disabled version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on mr2.cc.vt.edu
X-Gm-Spam: 0
X-Gm-Phishy: 0
X-Gm-Spam: 0
X-Gm-Phishy: 0

----==_mimepart_55cb7b0a19d80_7f7b3fb2419e329c1120fa
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

With current master on Ubuntu 15.04
```
$ ./setup obj2 --python=/usr/bin/python3
[... snip ...]

$ grep PYTHON build/CMakeCache.txt 
Boost_PYTHON_LIBRARY_DEBUG:FILEPATH=/usr/lib/x86_64-linux-gnu/libboost_python.a
Boost_PYTHON_LIBRARY_RELEASE:FILEPATH=/usr/lib/x86_64-linux-gnu/libboost_python.a
PYTHON_INCLUDE_DIR:PATH=/usr/include/python3.4m
PYTHON_INTERPRETER:UNINITIALIZED=/usr/bin/python3
PYTHON_LIBRARY:FILEPATH=/usr/lib/x86_64-linux-gnu/libpython2.7.so
PYTHON_LIBRARY_DEBUG:FILEPATH=PYTHON_LIBRARY_DEBUG-NOTFOUND
[... snip ...]
```
Note that the include path points to the python3 headers, but the library path points incorrectly libpython2.7.so. The idea of https://github.com/psi4/psi4public/blob/master/cmake/ConfigPython.cmake#L37-L39 should be to select matching headers/library.

---
Reply to this email directly or view it on GitHub:
https://github.com/psi4/psi4public/issues/163
----==_mimepart_55cb7b0a19d80_7f7b3fb2419e329c1120fa
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<p>With current master on Ubuntu 15.04</p>

<pre><code>$ ./setup obj2 --python=/usr/bin/python3
[... snip ...]

$ grep PYTHON build/CMakeCache.txt 
Boost_PYTHON_LIBRARY_DEBUG:FILEPATH=/usr/lib/x86_64-linux-gnu/libboost_python.a
Boost_PYTHON_LIBRARY_RELEASE:FILEPATH=/usr/lib/x86_64-linux-gnu/libboost_python.a
PYTHON_INCLUDE_DIR:PATH=/usr/include/python3.4m
PYTHON_INTERPRETER:UNINITIALIZED=/usr/bin/python3
PYTHON_LIBRARY:FILEPATH=/usr/lib/x86_64-linux-gnu/libpython2.7.so
PYTHON_LIBRARY_DEBUG:FILEPATH=PYTHON_LIBRARY_DEBUG-NOTFOUND
[... snip ...]
</code></pre>

<p>Note that the include path points to the python3 headers, but the library path points incorrectly libpython2.7.so. The idea of <a href="https://github.com/psi4/psi4public/blob/master/cmake/ConfigPython.cmake#L37-L39">https://github.com/psi4/psi4public/blob/master/cmake/ConfigPython.cmake#L37-L39</a> should be to select matching headers/library.</p>

<p style="font-size:small;-webkit-text-size-adjust:none;color:#666;">&mdash;<br>Reply to this email directly or <a href="https://github.com/psi4/psi4public/issues/163">view it on GitHub</a>.<img alt="" height="1" src="https://github.com/notifications/beacon/AIn2QnovcBBzhEF9B-tgKvw3NNNOEZBuks5om3KKgaJpZM4FqWgW.gif" width="1" /></p>
<div itemscope itemtype="http://schema.org/EmailMessage">
<div itemprop="action" itemscope itemtype="http://schema.org/ViewAction">
  <link itemprop="url" href="https://github.com/psi4/psi4public/issues/163"></link>
  <meta itemprop="name" content="View Issue"></meta>
</div>
<meta itemprop="description" content="View this Issue on GitHub"></meta>
</div>

----==_mimepart_55cb7b0a19d80_7f7b3fb2419e329c1120fa--
